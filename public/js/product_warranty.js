var $productTypeField=$("#product_type"),$productSeriesField=$("#product_series"),$productNumberField=$("#product_number"),$productModelField=$("#product_model"),$productConfiguartionField=$("#product_configuration");function reloadProductTypeField(){var d=$productTypeField;$.getJSON("/api/products/types").done(function(e){var t=d.attr("data-init-val"),o=e.product_types;d.empty(),d.append("<option selected></option>");for(var a=0;a<o.length;a++){var n=document.createElement("option");n.textContent=o[a].name,n.value=o[a].id,n.selected=n.value==t,d.append(n)}t&&d.removeAttr("data-init-val"),d.change()})}$productTypeField.change(function(){var n=$productSeriesField;if($(this).val()){$.getJSON("/api/products/series",{type:$(this).val()}).done(function(e){var t=n.attr("data-init-val");n.empty(),n.append("<option disabled selected></option>");for(var o=0;o<e.length;o++){var a=document.createElement("option");a.textContent=e[o],a.value=e[o],a.selected=a.value==t,n.append(a)}n.change(),n.closest(".row").show(),t&&n.removeAttr("data-init-val")})}else n.closest(".row").hide(),n.empty(),n.change()}),$productSeriesField.change(function(){var n=$productNumberField;if($(this).val()){$.getJSON("/api/products/numbers",{series:$(this).val()}).done(function(e){var t=n.attr("data-init-val");n.empty(),n.append("<option disabled selected></option>");for(var o=0;o<e.length;o++){var a=document.createElement("option");a.textContent=e[o],a.value=e[o],a.selected=a.value==t,n.append(a)}n.change(),n.closest(".row").show(),t&&n.removeAttr("data-init-val")})}else n.closest(".row").hide(),n.empty(),n.change()}),$productNumberField.change(function(){var n=$productModelField;if($(this).val()){$.getJSON("/api/products/models",{product_number:$(this).val()}).done(function(e){var t=n.attr("data-init-val");n.empty(),n.append("<option disabled selected></option>");for(var o=0;o<e.length;o++){var a=document.createElement("option");a.textContent=e[o].model_number,a.value=e[o].model_number,a.setAttribute("data-configuration",e[o].name),a.selected=a.value==t,n.append(a)}n.change(),n.closest(".row").show(),t&&n.removeAttr("data-init-val")})}else n.closest(".row").hide(),n.empty(),n.change()}),$productModelField.change(function(){var e=$productConfiguartionField,t=$("option:selected",this).attr("data-configuration");e.text(t),t?e.closest(".row").show():e.closest(".row").hide()}),reloadProductTypeField();